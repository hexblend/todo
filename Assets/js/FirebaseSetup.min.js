function GetDate(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return t<10&&(t="0"+t),n<10&&(n="0"+n),o+"-"+n+"-"+t}function hide_section_a(){1==list_a_show?(document.querySelector(".dropdown_btn_a i").style.transition=".3s all ease-in-out",document.querySelector(".dropdown_btn_a i").innerHTML="arrow_drop_down",document.querySelector(".todo-collection").style.display="none",list_a_show=!1):(document.querySelector(".dropdown_btn_a i").innerHTML="arrow_drop_up",document.querySelector(".todo-collection").style.display="block",list_a_show=!0)}function hide_section_b(){1==list_b_show?(document.querySelector(".dropdown_btn_b i").style.transition=".3s all ease-in-out",document.querySelector(".dropdown_btn_b i").innerHTML="arrow_drop_down",document.querySelector(".done-collection").style.display="none",list_b_show=!1):(document.querySelector(".dropdown_btn_b i").innerHTML="arrow_drop_up",document.querySelector(".done-collection").style.display="block",list_b_show=!0)}function AddToList(e){GlobalData.CurrentList[e]={Checked:!1},SetFireBaseList(),AddToPage()}function CheckListElem(e){GlobalData.CurrentList[e].Checked=!0,SetFireBaseList(),AddToPage()}function UnCheckListElem(e){GlobalData.CurrentList[e].Checked=!1,SetFireBaseList(),AddToPage()}function DeleteListElem(e){delete GlobalData.CurrentList[e],SetFireBaseList(),AddToPage()}function DeleteAllElem(){GlobalData.CurrentList={},SetFireBaseList(),AddToPage()}function AddToPage(){list.innerHTML="",done_list.innerHTML="",done_list.style.display="none",document.querySelector(".done_list_title").style.display="none",list.style.display="none",document.querySelector(".todo_list_title").style.display="none",document.querySelector(".end-btn").style.display="none",list_counter=0,list_counter_conatiner.innerHTML=list_counter,done_list_counter=0,done_list_counter_container.innerHTML=done_list_counter;for(k in GlobalData.CurrentList){console.log(k);var e=k,t=document.createElement("li");t.setAttribute("class","collection-item");var n=document.createElement("div");n.setAttribute("class","row");var o=document.createElement("div");o.setAttribute("class","col s8");var l=document.createElement("div");l.setAttribute("class","col s4");var a=document.createElement("p");a.setAttribute("class","item-text"),a.innerHTML=e;var i=document.createElement("div");i.setAttribute("class","buttons");var r=document.createElement("a");r.setAttribute("class","secondary-content todo_btn");var s=document.createElement("i");s.setAttribute("class","material-icons unchecked-box"),s.innerHTML="check_box_outline_blank";var d=document.createElement("a");d.setAttribute("class","secondary-content delete_btn");var c=document.createElement("i");c.setAttribute("class","material-icons delete-icon"),c.innerHTML="delete";var u=document.createElement("a");u.setAttribute("class","secondary-content done_btn");var _=document.createElement("i");_.setAttribute("class","material-icons checked-box"),_.innerHTML="check_box",d.addEventListener("click",delete_item),r.addEventListener("click",todo_item),u.addEventListener("click",uncheck_elem),d.appendChild(c),r.appendChild(s),u.appendChild(_),i.appendChild(r),i.appendChild(u),i.appendChild(d),l.appendChild(i),o.appendChild(a),n.appendChild(o),n.appendChild(l),t.appendChild(n),document.querySelector(".end-btn").style.display="inline-block",main_input.value="",GlobalData.CurrentList[k].Checked?(u.style.display="block",r.style.display="none",done_list.insertBefore(t,done_list.childNodes[0]),done_list_counter++,done_list_counter_container.innerHTML=done_list_counter):(u.style.display="none",r.style.display="block",list.insertBefore(t,list.childNodes[0]),list_counter++,list_counter_conatiner.innerHTML=list_counter),(document.querySelector(".dropdown_btn_a").style.display="none")&&(document.querySelector(".dropdown_btn_a").style.display="inline-block"),0==list.children.length?(list.style.display="none",document.querySelector(".todo_list_title").style.display="none"):(list.style.display="block",document.querySelector(".todo_list_title").style.display="block"),0==done_list.children.length?(done_list.style.display="none",document.querySelector(".done_list_title").style.display="none"):(done_list.style.display="block",document.querySelector(".done_list_title").style.display="block"),done_list.children.length>0||list.children.length>0?document.querySelector(".end-btn").style.display="inline-block":document.querySelector(".end-btn").style.display="none"}}function SetFireBaseList(){firebase.database().ref("/UserLists/"+FB_DATA.UID+"/"+CurrentDate).set(GlobalData.CurrentList)}console.log("Starting Firebase...");var CurrentDate=GetDate(),GlobalData={FirebaseConfig:{apiKey:"AIzaSyA8a6WnwAyOeq61gmtKwS6Oa0TNdY6M5Bo",authDomain:"vladb-todo.firebaseapp.com",databaseURL:"https://vladb-todo.firebaseio.com",projectId:"vladb-todo",storageBucket:"",messagingSenderId:"180513059705"},UserData:null,AllLists:{},CurrentList:{}};GlobalData.CurrentList={},firebase.initializeApp(GlobalData.FirebaseConfig);var Database=firebase.database(),FB_DATA={};if(firebase.auth().useDeviceLanguage(),firebase.auth().getRedirectResult().then(function(e){e.credential&&(FB_DATA.Token=e.credential.accessToken),FB_DATA.User=e.user,FB_DATA.CurrentUser=firebase.auth().currentUser,FB_DATA.UID=FB_DATA.CurrentUser.uid,firebase.database().ref("/Users/"+FB_DATA.UID).once("value").then(function(e){e.val()?GlobalData.UserData=e.val():(GlobalData.UserData={UID:FB_DATA.UID,Email:FB_DATA.CurrentUser.email,DisplayName:FB_DATA.CurrentUser.displayName,PhoneNumber:FB_DATA.CurrentUser.phoneNumber,ProfilePicture:FB_DATA.CurrentUser.photoURL},firebase.database().ref("/Users/"+FB_DATA.UID).set(GlobalData.UserData));var t=document.querySelector("#user_image"),n=document.querySelector("#user_name");t&&(t.src=GlobalData.UserData.ProfilePicture),n&&(n.innerText=GlobalData.UserData.DisplayName)}),location.pathname="/todo/app.html"}).catch(function(e){FB_DATA.Error={Code:e.code,MSG:e.message,Email:e.email,Credential:e.credential},console.error(FB_DATA.Error)}),firebase.auth().onAuthStateChanged(function(e){if(e)if(console.log("User Already Logged In."),"/todo/index.html"==location.pathname||"/todo/index"==location.pathname||"/todo"==location.pathname||"/todo/"==location.pathname)location.pathname="/todo/app.html";else{var t=document.querySelector("#LogOutButton");t&&t.addEventListener("click",function(){firebase.auth().signOut().then(function(){location.pathname="/todo"}).catch(function(e){console.warn(e)})}),firebase.database().ref("/UserLists/"+FB_DATA.UID).on("value",function(e){e.val()&&(console.log(e.val()),GlobalData.AllLists=e.val(),GlobalData.AllLists[CurrentDate]&&(GlobalData.CurrentList=GlobalData.AllLists[CurrentDate],"app.html"==location.pathname.split("/").reverse()[0]&&AddToPage()))})}else if(console.log("User Log In Required."),"/todo/app.html"==location.pathname||"/todo/app"==location.pathname||"/todo/app.html"==location.pathname)location.pathname="/todo";else{var n=document.querySelector("#LoginButton");n&&n.addEventListener("click",function(){var e=new firebase.auth.GoogleAuthProvider;e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)})}}),"app.html"==location.pathname.split("/").reverse()[0]){var list=document.querySelector(".todo-collection"),done_list=document.querySelector(".done-collection"),list_counter=0,done_list_counter=0,list_counter_conatiner=document.querySelector(".todo-counter"),done_list_counter_container=document.querySelector(".done-counter"),main_input=document.querySelector("#add_activity"),dropdown_btn_a=document.querySelector(".dropdown_btn_a");dropdown_btn_a&&(dropdown_btn_a.style.display="none")&&(dropdown_btn_a.style.display="inline-block"),0==list.children.length?(list.style.display="none",document.querySelector(".todo_list_title").style.display="none",document.querySelector(".end-btn").style.display="none"):(list.style.display="block",document.querySelector(".todo_list_title").style.display="block",document.querySelector(".end-btn").style.display="block"),0==done_list.children.length?(done_list.style.display="none",document.querySelector(".done_list_title").style.display="none"):(done_list.style.display="block",document.querySelector(".done_list_title").style.display="block")}var list_a_show=!0,list_b_show=!0;